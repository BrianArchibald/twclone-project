{% extends 'base.html'%} {% block content %} {% for tweet in tweets.all %}

<div class="card mt-5 mb-5">
  <div class="card-body">
    <h7 class="card-subtitle mb-2 text-muted">
      Tweeted By <a href="{% url 'post' user=tweet.user %}">{{ tweet.user }}</a> on {{ tweet.pub_date }}
    </h7>

    <p class="card-text pt-3 pb-2" id="tweet">
      {{ tweet.tweet_text|safe }}
    </p>
      {% if request.user.is_authenticated %}
      <a href="{% url 'view' tweet_id=tweet.id %}"
      ><button class="btn btn-success btn-sm ml-3 mb-2">View Post</button></a
    >{% if request.user == tweet.user %}
    <a href="{% url 'edit_post' tweet_id=tweet.id %}"
      ><button class="btn btn-success btn-sm ml-3 mb-2">Edit Post</button></a
    >
    <a href="{% url 'delete' tweet_id=tweet.id %}"
      ><button class="btn btn-danger btn-sm ml-3 mb-2">Delete Post</button></a
    >
              {% endif %}
      {% endif %}
  </div>
</div>

{%endfor %}
<script>
    // var tweet = document.querySelectorAll('.card-text');
    // var regex = /https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/;
    // tweet.forEach(function (item) {
    //     var text = item.innerText;
    //     var chil = item.firstElementChild;
    //     if (regex.test(text)) {
    //         text = text.replace(regex, '');
    //         item.innerHTML = chil.outerHTML + ' ' + text
    //     }


    // })
</script>
{% endblock%}